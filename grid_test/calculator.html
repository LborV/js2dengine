<html>
<head>
    <title>TEST</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
    </style>
    <meta charset="UTF-8" />
    <meta name='viewport' content='width=device-width, initial-scale=0.5, maximum-scale=1.0, user-scalable=0' />
</head>
<body>
    <div>
        <form action="">
                Summa: <input type="number" id="summa" min="0" onChange="calcFun()"><br>
                Gada procentu likme: <select id="gadaProcentuLikme" onChange="calcFun()">
                    <option value="7">7%</option>
                    <option value="10">10%</option>
                    <option value="15">15%</option>
                </select><br>
                Līzinga termiņš: <select id="lizingaTermins" onChange="calcFun()">
                    <option value="6"> 6 mēn.</option>
                    <option value="12"> 12 mēn.</option>
                    <option value="12"> 12 mēn.</option>
                    <option value="24"> 2 gadi</option>
                    <option value="60"> 5 gadi</option>
                    <option value="84"> 7 gadi</option>
                </select><br>
                Ikmēneša maksājums: <span id="men"></span><br>
                Izmaksājama summa par visu termiņa laiku: <span id="kop"></span>
                <script>
                    function getData(){
                        return {
                            s: document.getElementById("summa").value,
                            g: document.getElementById("gadaProcentuLikme").value,
                            l: document.getElementById("lizingaTermins").value,
                        }
                    }
        
                    function calcM(s, g, l){
                        let x = g / 12;
                        return s * ( x / ( 1 - Math.pow(1 + x, -l) ) );
                    }
        
                    function calcFun(){
                        let data = getData();
        
                        let men = calcM(data.s, data.g, data.l);
                        if(men < 0) {
                            document.getElementById("men").innerHTML = 'Nepareizi'; 
                            document.getElementById("kop").innerHTML = 'Nepareizi';
                            return;
                        }
        
                        let summa = 0;
                        for(let i =0; i < data.l; i++) {
                            summa += men;
                        }
        
                        document.getElementById("kop").innerHTML = summa;
                        document.getElementById("men").innerHTML = men;         
                    }
                </script>
            </form>
    </div>
</body>
</html>